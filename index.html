<h2 id="sql"># sql</h2>
<pre><code>import &quot;.&quot;</code></pre>
<h2 id="usage">Usage</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">var</span> (</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    SQLServer = SQLDialect{Name: <span class="st">&quot;mssql&quot;</span>, DefaultPort: <span class="dv">1433</span>}</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>    MySQL     = SQLDialect{Name: <span class="st">&quot;mysql&quot;</span>, DefaultPort: <span class="dv">3306</span>}</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>    Postgres  = SQLDialect{Name: <span class="st">&quot;postgres&quot;</span>, DefaultPort: <span class="dv">5432</span>}</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>    SQLite    = SQLDialect{Name: <span class="st">&quot;sqlite3&quot;</span>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>)</span></code></pre></div>
<p>SQL Dialects</p>
<h4 id="func-paginate">func Paginate</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">func</span> Paginate(page, pageSize <span class="dt">int</span>) <span class="kw">func</span>(db *gorm.DB) *gorm.DB</span></code></pre></div>
<p>Paginate returns a GORM scope function to apply pagination.</p>
<h4 id="type-connection">type Connection</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">type</span> Connection <span class="kw">interface</span> {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>    GetConnection() (*gorm.DB, <span class="dt">error</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>}</span></code></pre></div>
<p>Connection is an interface that defines the method to get a database connection.</p>
<h4 id="func-newsqlconnection">func NewSQLConnection</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="kw">func</span> NewSQLConnection(opts ...*DBOption) (Connection, <span class="dt">error</span>)</span></code></pre></div>
<p>NewSQLConnection creates a new SQL database connection based on the provided options. It merges the provided options and initializes the dialector. If the dialector is empty, it returns an error.</p>
<h4 id="type-dbconnection">type DBConnection</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">type</span> DBConnection <span class="kw">struct</span> {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>}</span></code></pre></div>
<p>DBConnection holds the details for connecting to the database.</p>
<h4 id="func-dbconnection-getconnection">func (*DBConnection) GetConnection</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="kw">func</span> (r *DBConnection) GetConnection() (*gorm.DB, <span class="dt">error</span>)</span></code></pre></div>
<p>GetConnection establishes and returns a GORM DB connection. If the connection is already established, it returns the existing one. It sets up the logger, connection pool configurations, and handles errors during the connection process.</p>
<h4 id="type-dboption">type DBOption</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">type</span> DBOption <span class="kw">struct</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>}</span></code></pre></div>
<p>DBOption holds the configuration for database connection</p>
<h4 id="func-config">func Config</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="kw">func</span> Config() *DBOption</span></code></pre></div>
<p>Config initializes a new DBOption with default values</p>
<h4 id="func-mergeoptions">func MergeOptions</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="kw">func</span> MergeOptions(opts ...*DBOption) (*DBOption, <span class="dt">error</span>)</span></code></pre></div>
<p>MergeOptions merges multiple DBOption instances into one, applying default values where necessary. It returns the merged DBOption and an error if any mandatory option is missing or invalid.</p>
<h4 id="func-dboption-connmaxidletime">func (*DBOption) ConnMaxIdleTime</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) ConnMaxIdleTime(connMaxIdleTime time.Duration) *DBOption</span></code></pre></div>
<p>ConnMaxIdleTime sets the maximum amount of time a connection may be idle before being closed. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-connmaxlifetime">func (*DBOption) ConnMaxLifetime</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) ConnMaxLifetime(connMaxLifetime time.Duration) *DBOption</span></code></pre></div>
<p>ConnMaxLifetime sets the maximum amount of time a connection may be reused. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-databasename">func (*DBOption) DatabaseName</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) DatabaseName(databaseName <span class="dt">string</span>) *DBOption</span></code></pre></div>
<p>DatabaseName sets the name of the database to connect to. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-host">func (*DBOption) Host</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) Host(host <span class="dt">string</span>) *DBOption</span></code></pre></div>
<p>Host sets the host address of the database server. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-maxidleconns">func (*DBOption) MaxIdleConns</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) MaxIdleConns(maxIdleConns <span class="dt">int</span>) *DBOption</span></code></pre></div>
<p>MaxIdleConns sets the maximum number of idle connections in the connection pool. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-maxopenconns">func (*DBOption) MaxOpenConns</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) MaxOpenConns(maxOpenConns <span class="dt">int</span>) *DBOption</span></code></pre></div>
<p>MaxOpenConns sets the maximum number of open connections to the database. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-password">func (*DBOption) Password</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) Password(password <span class="dt">string</span>) *DBOption</span></code></pre></div>
<p>Password sets the password for database authentication. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-port">func (*DBOption) Port</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) Port(port <span class="dt">int</span>) *DBOption</span></code></pre></div>
<p>Port sets the port on which the database server is listening. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-setsqldialect">func (*DBOption) SetSQLDialect</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) SetSQLDialect(sqlDialect SQLDialect) *DBOption</span></code></pre></div>
<p>SetSQLDialect sets the SQL dialect to be used (e.g., SQLServer, MySQL, Postgres). It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-timezone">func (*DBOption) Timezone</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) Timezone(timezone <span class="dt">string</span>) *DBOption</span></code></pre></div>
<p>Timezone sets the timezone to be used for the database connection. It returns the modified DBOption for chaining.</p>
<h4 id="func-dboption-user">func (*DBOption) User</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="kw">func</span> (c *DBOption) User(user <span class="dt">string</span>) *DBOption</span></code></pre></div>
<p>User sets the username for database authentication. It returns the modified DBOption for chaining.</p>
<h4 id="type-sqldialect">type SQLDialect</h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a><span class="kw">type</span> SQLDialect <span class="kw">struct</span> {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>    Name        <span class="dt">string</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a>    DefaultPort <span class="dt">int</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a>}</span></code></pre></div>
<p>SQLDialect represents a SQL dialect with its name and default port</p>
